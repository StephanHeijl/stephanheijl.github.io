<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A New Protein Design Era with Protein Diffusion - Stephan Heijl</title>
    <meta name="description" content="A new Protein Design Era with Protein Diffusion - exploring RFDiffusion and how diffusion models are revolutionizing de novo protein design.">
    <meta name="keywords" content="protein design, proteins, rfdiffusion, rosetta, folding, alphafold">
    <meta name="author" content="Stephan Heijl">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="A new Protein Design Era with Protein Diffusion">
    <meta name="twitter:description" content="The past month has been an amazing time for AI news, but we should be careful not to miss out on a pre-publication that could be one of the most disruptive technologies in structural biology in the coming decade.">
    <meta name="twitter:image" content="https://stephanheijl.com/img/rfdiffusion/card_text.png">

    <meta property='og:title' content='A new Protein Design Era with Protein Diffusion' />
    <meta property='og:image' content='https://stephanheijl.com/img/rfdiffusion/card_text_li.png' />
    <meta property='og:description' content='The past month has been an amazing time for AI news, but we should be careful not to miss out on a pre-publication that could be one of the most disruptive technologies in structural biology in the coming decade.' />
    <meta property='og:url' content='https://stephanheijl.com/rfdiffusion.html' />

    <link href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,400;0,6..72,500;1,6..72,400&family=Outfit:wght@300;400;500;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style-v2.css">
    <style>
        .full-width-image {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            margin-top: 3rem;
            margin-bottom: 3rem;
        }
        .full-width-image img {
            width: 100%;
            display: block;
        }
        .twitter-tweet {
            margin: 2rem auto !important;
        }
        .info-tooltip {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 3px solid var(--accent-warm);
        }
        .info-tooltip .tooltip-header {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--accent-warm);
        }
        .info-tooltip p {
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Navigation -->
    <nav>
        <a href="index.html" class="logo">Stephan Heijl</a>
        <ul class="nav-links">
            <li><a href="projects.html">Work</a></li>
            <li><a href="projects.html#posts">Writing</a></li>
            <li><a href="projects.html#education">Background</a></li>
            <li><a href="contact.html">Contact</a></li>
        </ul>
    </nav>

    <!-- Article Header -->
    <header class="article-header">
        <div class="breadcrumb">
            <a href="index.html">Home</a>
            <span>-></span>
            <a href="projects.html#posts">Writing</a>
            <span>-></span>
            <span>Protein Diffusion</span>
        </div>

        <div class="article-meta">
            <span class="meta-tag">Deep Dive</span>
            <span class="meta-item">Posted: December 11, 2022</span>
            <span class="meta-item">Updated: March 31, 2023</span>
        </div>

        <h1>A New Protein Design Era with Protein Diffusion</h1>

        <p class="article-intro">
            I believe we stand at the precipice of a new era of protein design using machine learning.
            RF<em>Diffusion</em> is leading the way.
        </p>
    </header>

    <!-- Update Banner -->
    <div class="update-banner">
        <div class="update-banner-inner">
            <span class="update-icon">!</span>
            <span class="update-text">
                <strong>Update:</strong> RFDiffusion is now available on
                <a href="https://github.com/RosettaCommons/RFdiffusion" target="_blank">GitHub</a>,
                including trained weights, under a permissive license!
            </span>
        </div>
    </div>

    <!-- Article Content -->
    <article class="article-content">
        <p>
            The past month has been an amazing time for AI news. I post this amid a flurry of ChatGPT
            screenshots and at the leading edge of a ton of blog posts on CASP15 results in the coming
            weeks. But we should be careful not to miss out on a pre-publication that I believe could be
            <strong>one of the most disruptive technologies in the structural biology field in the coming decade.</strong>
        </p>

        <p>
            The Baker Lab—the originator of the Rosetta algorithm for ab initio protein structure
            prediction and a slew of other protein structure related tools like Rosetta@Home and
            FoldIt—released a prepublication at the start of this month. There, they introduce
            <a href="https://www.bakerlab.org/2022/11/30/diffusion-model-for-protein-design/">RF<em>Diffusion</em></a>,
            a novel application of Diffusion algorithms to the protein design problem.
        </p>

        <p>
            Using RF<em>Diffusion</em>, the authors (<a href="https://twitter.com/_JosephWatson">Joseph Watson</a>,
            <a href="https://twitter.com/DaveJuergens">David Juergens</a>,
            <a href="https://twitter.com/naterbennett0">Nate Bennett</a>,
            <a href="https://twitter.com/brianltrippe">Brian Trippe</a>, and Jason Yim et al.)
            <strong>achieve multiple orders of magnitude advances in de novo protein design.</strong>
            With these advances, I believe we are on the cusp of a new era of protein design where
            applying proteins to complex pharmaceutical and industrial problems becomes the go-to solution.
        </p>

        <div class="info-tooltip">
            <div class="tooltip-header">Context: Baker Lab</div>
            <p>
                The Baker Lab, founded by Dr. David Baker at the University of Washington, has been a leader
                in the structural biology space for over a decade. The lab has focused on developing novel
                methods and technologies to answer fundamental questions in the structural biology field.
                Specifically, the Baker Lab has focused on three main areas: protein structure prediction,
                protein-protein docking, and protein-drug design.
            </p>
            <p>
                In the field of protein structure prediction, the Baker Lab has developed a suite of
                computational tools, such as Rosetta and FoldIt, to predict the structure of proteins from
                their amino acid sequences. This work has enabled researchers to better understand the
                functions of proteins and has led to the development of new treatments for a range of diseases.
            </p>
        </div>

        <div class="full-width-image">
            <picture>
                <source media="(max-width: 650px)" srcset="img/rfdiffusion/hero_mobile.jpg">
                <source media="(min-width: 651px)" srcset="img/rfdiffusion/hero.jpg">
                <img src="img/rfdiffusion/hero.jpg" alt="A comic style illustration of a man walking into a room with a computer.">
            </picture>
        </div>

        <h2>Protein Structure Prediction</h2>

        <p>
            Protein structure prediction was, for a long time, a holy grail of structural biology.
            Solving how a specific sequence of amino acids would fold into a 3D structure is immensely
            difficult due to the number of degrees of freedom involved. Physically based folding
            solutions using molecular dynamics were able to approximate this process to some extent,
            but at the cost of enormous amounts of compute.
        </p>

        <p>
            Running a full physical simulation of every atom requires vast amounts of processing time,
            necessitating solutions like the massively distributed Folding@Home project. This distributed
            supercomputer achieved a total compute of over 2 exaflops in 2020.
        </p>

        <p>
            Since 2016, however, significant steps were being made in this space with the application
            of machine learning to the problem. The CASP competition, which had been running biannually
            for 13 iterations, finally saw improvement after a decade of relative stagnation. In 2018,
            Google's DeepMind competed with their initial submission of AlphaFold. This deep learning
            based system achieved a ~20% improvement over the next competitor.
        </p>

        <p>
            In 2020, AlphaFold2 swept the board with a 265% score improvement over the Baker Lab's
            submission. Following this, Science's Robert F. Service
            <a href="https://www.science.org/content/article/game-has-changed-ai-triumphs-solving-protein-structures">called</a>
            protein structure prediction "Solved by AI".
        </p>

        <div class="info-tooltip">
            <div class="tooltip-header">Context: AlphaFold</div>
            <p>
                AlphaFold is a protein folding algorithm developed by DeepMind, a subsidiary of Google. It is
                designed to predict the 3D structure of a protein based on its amino acid sequence. AlphaFold
                uses deep learning and other artificial intelligence techniques to accurately predict protein
                structures, which can help scientists better understand how proteins interact with each other
                and in turn, open up new avenues of research into the prevention and treatment of diseases.
                AlphaFold has already achieved remarkable success in the biennial Critical Assessment of
                Structure Prediction (CASP) competition, outperforming all other competitors and taking the top
                prize in 2020.
            </p>
        </div>

        <div class="highlight-box">
            <p>
                Nevertheless, the frontiers are always shifting. With one problem solved, a multitude
                of new challenges rear their head, previously not even considered possible to tackle.
                <strong>The Baker Lab is back with a vengeance</strong>, applying their own in-house tech
                to revolutionize protein design in several novel ways.
            </p>
        </div>

        <div class="full-width-image">
            <picture>
                <source media="(max-width: 650px)" srcset="img/rfdiffusion/hero_2_mobile.jpg">
                <source media="(min-width: 651px)" srcset="img/rfdiffusion/hero_2.jpg">
                <img src="img/rfdiffusion/hero_2.jpg" alt="A comic book style illustration of a man sitting behind a desktop computer.">
            </picture>
        </div>

        <h2>Diffusion Models</h2>

        <p>
            Diffusion models are a relatively new type of model that allow for the generation of complex
            outputs. Proposed in 2015 as a technique for generating images, these models took a back seat
            to the emerging GAN architecture. The latter employs two models that are alternately trained
            in an adversarial manner to generate images and discriminate images generated by the network
            from those in the training set. This approach was able to create quite realistic looking imagery
            (consider StyleGAN and thispersondoesnotexist.com), but training the GANs is challenging. Having
            tried to train these myself back in 2016, balancing the power of the generator and discriminator
            is important and the long training runs can be unstable. Nevertheless, GANs were able to produce
            convincing results and were even able to be conditioned into generating different classes and
            properties when specified.
        </p>

        <p>
            Diffusion models operate quite differently. Instead of attempting to generate an image on
            the first try, Diffusion models iteratively improve on a noisy image, denoising the input
            to some extent with each step. The denoising process can be guided by another neural network,
            like CLIP, in order to produce results in line with a textual description. The training process
            is more stable and conditioning is far more fine grained, allowing for a wider range of images
            that can be generated.
        </p>

        <div class="info-tooltip">
            <div class="tooltip-header">Context: CLIP</div>
            <p>
                OpenAI CLIP (Contrastive Language-Image Pre-training) is a pre-training technique
                developed by OpenAI, which uses a contrastive learning approach to learn a joint representation
                of text and images. The model takes in pairs of text and images, and learns to map them to a
                common joint representation. This joint representation is then used for downstream tasks such as
                image captioning, question answering, and more. OpenAI CLIP has shown to outperform
                existing pre-training models on several tasks.
            </p>
        </div>

        <p>
            Diffusion models reached public consciousness in April of 2022, with the release of DALL-E 2
            by OpenAI. While the initial release of DALL-E used a VQGAN architecture, the second iteration
            was equipped with a diffusion based generator. Beta access was granted to select individuals in
            July, but alternative implementations of the technology began sprouting up even before that.
            Midjourney became accessible on July 12th and Stable Diffusion, a fully open source implementation,
            was released in August.
        </p>

        <p>
            <strong>The release of these models resulted in an outpouring of creativity</strong>, with
            over 5 million images recorded by Stable Diffusion search engine <a href="https://lexica.art">Lexica.art</a>
            as of September.
        </p>

        <p>
            The general principle of iteratively updating some input to get better results wasn't exactly new
            in the machine learning structural biology space. AlphaFold implements this method as well in order
            to make fine grained updates to the output structure after first finding a good approximation using
            the multiple sequence alignment. It is even hypothesized that this recycling function is a good
            approximation of the energy function actually used for folding. This process was cited as an
            inspiration by the authors for the RF<em>Diffusion</em> paper.
            <a href="https://arxiv.org/abs/2206.04119">Work on integrating diffusion with protein structure
            models for scaffolding</a> has been going on at the Baker Lab at least since the start of this year,
            and improving on it would lead to the amazing innovation that is the topic of this blog post.
        </p>

        <div class="full-width-image">
            <picture>
                <source media="(max-width: 650px)" srcset="img/rfdiffusion/hero_3_mobile.jpg">
                <source media="(min-width: 651px)" srcset="img/rfdiffusion/hero_3.jpg">
                <img src="img/rfdiffusion/hero_3.jpg" alt="A comic book style illustration of people painting.">
            </picture>
        </div>

        <h2>RF<em>Diffusion</em></h2>

        <p>
            On December 1st 2022, Joseph Watson from the Baker Lab used DALL-E as a hook to introduce
            their newest pre-publication: <a href="https://www.bakerlab.org/2022/11/30/diffusion-model-for-protein-design/">"Broadly applicable
            and accurate protein design by integrating structure prediction networks and diffusion generative models"</a>.
            Using diffusion models with protein generation models allowed them to <strong>design proteins quickly and accurately</strong>.
            They named their technology RosettaFoldDiffusion (RF<em>Diffusion</em>).
        </p>

        <div class="tweet-embed">
            <p>
                "DALL-E's amazing images are popping up all over the web. That software uses something
                called a diffusion model, which is trained to remove noise from static until a clear
                picture is formed. Turns out diffusion models can design proteins too!"
            </p>
            <div class="attribution">
                — <a href="https://twitter.com/_JosephWatson/status/1598409454537826305">Joseph Watson</a>,
                December 1, 2022
            </div>
        </div>

        <p>
            Using the RossettaFold protein folding model with a Diffusion approach allows them to
            specify some constraints—like a target protein to bind to, or a symmetry type—and generate
            a protein structure that satisfies those constraints.
        </p>

        <p>
            On December 10th 2022, David Juergens posted an update on Twitter. Reportedly their
            experimental results had come in, with 384 different designs straight out of the algorithm
            being tested for binding affinity. Conservatively, <strong>18% of these 384 proteins showed
            binding responses of &lt;10uM</strong>, a two order of magnitude increase compared to previous
            Rosetta-based processes. All working proteins were shown to compete with a positive control,
            meaning that the designs likely targeted the intended region for binding.
        </p>

        <div class="tweet-embed">
            <p>
                "We're very happy to announce that our RFdiffusion manuscript is now on bioRxiv!
                A lot can change in a week - we've now tested over a thousand designs and there's
                so much exciting new data!"
            </p>
            <div class="attribution">
                — <a href="https://twitter.com/DaveJuergens/status/1601675072175239170">David Juergens</a>,
                December 10, 2022
            </div>
        </div>

        <h3>Implementation</h3>

        <p>
            In the RF<em>Diffusion</em> paper, the authors make use of an SE(3) equivariant diffusion
            model, referred to as DDPMs, to generate the backbone. Recent work has adapted these DDPMs
            for protein monomer design, with limited success. To address this, RosettaFold was used as
            a good candidate to improve on this, as it had already shown that it could design parts of
            protein backbones by doing inpainting of protein structures, which was then adapted to
            RFjoint Inpainting to design protein scaffolds in a single step.
        </p>

        <p>
            RosettaFold was finetuned as a denoiser. To train the model, a training set is generated by
            simulating the noising process for up to 200 steps on structures from the Protein Data Bank,
            with both the backbone and the residue orientation being perturbed. The Ca positions are
            translated randomly and residues are randomly rotated in a stepwise manner, and the model is
            trained to minimize mean squared error loss between predictions and the true structure.
        </p>

        <p>
            During inference, a random set of residues are generated and fed into RF<em>Diffusion</em>
            to denoise. The input for the next step is calculated by moving into the direction of the
            denoised step and adding some noise, to make sure that the denoising process mimics the
            initial noising process used for training. This is done iteratively until a protein-like
            structure is formed. When the backbone is designed, ProteinMPNN is used to predict a sequence
            that will translate into that backbone. The generated structure is then checked against the
            output of AlphaFold2 for the designed sequence. If the generated structure is close to the
            AF2 result, it is deemed a successful design <em>in silico</em>.
        </p>

        <div class="full-width-image">
            <picture>
                <source media="(max-width: 650px)" srcset="img/rfdiffusion/implementation_mobile.jpg">
                <source media="(min-width: 651px)" srcset="img/rfdiffusion/implementation.jpg">
                <img src="img/rfdiffusion/implementation.jpg" alt="A scientific illustration of the denoising principle of RFDiffusion.">
            </picture>
        </div>

        <h3>Capabilities</h3>

        <p>
            RF<em>Diffusion</em> has turned out to be a powerful tool capable of designing protein
            structures with a variety of applications:
        </p>

        <p>
            <strong>Unconditional monomer generation:</strong> It can generate monomers with little
            similarity to existing known protein structures. Generating a 100 residue structure takes
            approximately 2.5 minutes on an A4000 GPU (with time requirements likely scaling quadratically
            with sequence length). <em>In vitro</em> characterization of 11 TIM barrel designs indicated
            that nine designs aligned with expected protein parameters.
        </p>

        <p>
            <strong>Higher order oligomers:</strong> It can design oligomers that serve as vaccine
            platforms, delivery vehicles and catalytic agents. The expected oligomerization pattern
            was found in ~16% of generated structures <em>in vitro</em>.
        </p>

        <p>
            <strong>Motif scaffolding:</strong> It can design scaffolds for protein structural motifs
            used for binding and catalytic functions, with the constraint that the motif must retain its
            exact geometry for optimal performance. Out of 25 benchmark problems, RFDiffusion solves
            23, 11 more than competitor "Hallucination". No tuning was required.
        </p>

        <p>
            <strong>De novo protein binders:</strong> Characterized as a grand challenge in protein
            design, RF<em>Diffusion</em> achieved an 18% success rate in designing protein binders.
            Experimental success rate compared to Rosetta-based methods ranges from <strong>5x to 214x
            improvement</strong> depending on the target protein. RF<em>Diffusion</em> was finetuned on
            protein complexes in order to achieve this.
        </p>

        <h2>Implications</h2>

        <p>
            What is possible with this kind of model combined with its reported effectiveness is nearly
            endless. If these results hold up in practice, this could easily be the best application of
            diffusion models for mankind. It could share the crown for biggest advance in structural
            biology of this decade together with AlphaFold.
        </p>

        <p>
            Currently RF<em>Diffusion</em> is a potent method for the creation of protein-binders.
            Applications for this specifically are amazing in themselves, as it will allow for the
            rapid design and iteration of a myriad of drugs that target proteins specifically. Rapidly
            designing antibodies comes to mind immediately, provided that the technique proves robust
            for this notoriously hard to model protein type. Even without antibodies in play, developing
            inhibitors or activators for any number of proteins would be exponentially sped up by this
            innovation.
        </p>

        <p>
            Next steps are already being taken to incorporate nucleic acids into the model, allowing
            for DNA or RNA binding proteins to be designed rapidly. These types of drugs are used as
            <a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-020-03664-6">anti-cancer agents</a>
            and could yield amazing results in that field.
        </p>

        <p>
            This is where my interpretation of future events starts. To me an obvious follow up would
            incorporate small molecules as opposed to just other proteins. Getting proteins that bind
            well to specific ligands is still an open problem. Generally, this process starts in nature,
            by trying to find a naturally occurring protein with a desired functionality that might bind
            to a desired substrate. While tools like Bio-Prodict's <a href="https://3dm.bio-prodict.nl">3DM</a>
            were huge steps in making this process less arduous, it still requires human expertise.
        </p>

        <p>
            Next, the protein needs to be optimized. Nature's best attempt for binding and/or converting
            a ligand of interest is likely not the best for industrial applications. Activity, specificity
            and stability are generally tuned for several rounds of guided evolution or (machine learning
            guided) rational design with the aim of getting several orders of magnitude increase in fit.
            These processes can take months and may not even yield a suitable design. If the high success
            rates reported for RF<em>Diffusion</em> hold up in this case, it would skip several steps in
            this process, lowering costs for designing custom proteins significantly.
        </p>

        <h3>Future Directions</h3>

        <p>
            I project that RF<em>Diffusion</em> will first be enhanced by replacing the Rosetta protein
            folding module with a more capable model. This could be AlphaFold2 or one of the high
            performers in CASP15 (Baker unfortunately did not rank in the top 10 this year). The paper
            notes explicitly that this is possible for an array of different models. Sergey Ovchinnikov
            already accomplished a hacked version of this on Twitter, less than a week after the initial
            pre-publication. Using AlphaFold2 as a design network may allow users to skip the AF2
            validation step used by the authors for sequence verification. This is of course assuming
            that other models are not limited by lacking some of the design features RosettaFold exhibits.
        </p>

        <div class="tweet-embed">
            <p>
                "Inspired by some of our work on AF2Rank (showing AF can be used to denoise template inputs)
                and RFdiffusion, I tried hacking AlphaFold to be a diffusion model for generating backbones."
            </p>
            <div class="attribution">
                — <a href="https://twitter.com/sokrypton/status/1599982846281908224">Sergey Ovchinnikov</a>,
                December 6, 2022
            </div>
        </div>

        <p>
            Additional constraints outside a target protein could also be included. Guiding the diffusion
            process to produce structures more like a specific family of proteins would be a boon for
            enzyme design. Imagine specifying a target family of enzymes, a target ligand and letting the
            model rapidly design a protein that satisfies those constraints with high accuracy. Any number
            of pharmaceutical companies would be chomping at the bit to get access to this technology.
            RF<em>Diffusion</em> already is able to scaffold enzyme active sites without modeling small
            molecules explicitly. The authors demonstrate this capability in an experiment where they
            scaffold a retroaldolase active site.
        </p>

        <p>
            Finally and most futuristically, this process could be used to design complex biological
            machinery. Incorporating the functionality of the protein and modeling that in some manner
            would allow for the design of an entire pipeline of proteins that construct specific complex
            molecules. Adding search based optimization for known conversions with different protein
            families would usher in an era of rapid biological process design. Just enter a resource and
            target molecule, let the servers run for a bit and test the resulting pathway to find your
            required complex molecule being made in the lab!
        </p>

        <div class="full-width-image">
            <picture>
                <source media="(max-width: 650px)" srcset="img/rfdiffusion/hero_4_mobile.jpg">
                <source media="(min-width: 651px)" srcset="img/rfdiffusion/hero_4.jpg">
                <img src="img/rfdiffusion/hero_4.jpg" alt="A comic book style illustration of researchers working in a laboratory.">
            </picture>
        </div>

        <h2>Conclusion</h2>

        <p>
            The Baker Lab has made significant strides in the space of protein design, with a great
            application of modern ML techniques combined with convincing experimental lab work. I trust
            that the very capable team is already working on developing this technique further, improving
            the accuracy and speed of this solution. In line with their previous projects, I expect that
            the source code for RF<em>Diffusion</em> will soon be published on GitHub under the BSD license.
            This will allow even more experimentation and innovative work to take place here.
        </p>

        <p>
            Given the pace at which advances take place in the Machine Learning/Protein space, I have
            no doubt that we are on the cusp of a decade of rapid innovation. This will lead to giant
            leaps in pharmaceutical and industrial applications of proteins, resulting in improved
            health care and vastly more green and efficient manufacturing processes.
        </p>
    </article>

    <!-- Article Footer -->
    <div class="article-footer">
        <a href="projects.html#posts" class="back-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            Back to Writing
        </a>
    </div>

    <!-- Related Posts -->
    <div class="related-posts">
        <div class="related-label">Related Posts</div>
        <div class="related-grid">
            <a href="deep_learning_antibiotics.html" class="related-card">
                <h3>Visualizing Deep Learning Antibiotics</h3>
                <p>Technical breakdown of using neural networks for antibiotic discovery</p>
            </a>
            <a href="notes_on_bert.html" class="related-card">
                <h3>Notes on BERT</h3>
                <p>Detailed notes from Google's foundational NLP paper</p>
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p class="footer-text">© 2024 Stephan Heijl</p>
        <div class="footer-links">
            <a href="https://github.com/StephanHeijl">GitHub</a>
            <a href="https://linkedin.com/in/stephanheijl">LinkedIn</a>
            <a href="contact.html">Email</a>
        </div>
    </footer>

    <script>
        // Reading progress bar
        window.addEventListener('scroll', () => {
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPos = window.scrollY;
            const progress = (scrollPos / docHeight) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        });
    </script>
</body>
</html>
